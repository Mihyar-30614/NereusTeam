<ul class="nav nav-tabs">
  <li class="active">
    <a href="/user/:id/#all" data-toggle="tab" aria-expanded="true">All Organizations</a>
  </li>
  <li class="">
    <a href="/user/:id/#my" data-toggle="tab" aria-expanded="false">My Organizations</a>
  </li>
  <li class="">
    <a href="#/organizations/create">Create Organization</a>
  </li>
</ul>

<div id="myTabContent" class="tab-content">
  
  <div class="tab-pane fade active in" id="all">
    <div class="row">
      <form class="form-search" role="search">
        <div class="form-group">
          <input type="text" class="form-control" placeholder="Search" ng-model="search">
        </div>
      </form>
    </div>
    <div class="row">
      <div id='container'>
      <!-- create multiple accordion elements for all organizations -->
        <div class='panel-group' id='accordion' role='tablist' aria-mutliselectable='true' > 
          <div class='col-xs-12' ng-repeat="organization in data.organizations | filter:{name:search}">
            <div class='panel panel-default'>
              <div class="panel-heading" role="tab" id="organization._id">
                <h4 class="panel-title">
                  <!-- href="javascript:;" with data-target to control the element to be collapsed, using opportunities objectIds to make each element unique -->
                  <a role="button" data-toggle="collapse" data-parent="#accordion" href="javascript:;" aria-expanded="false" aria-controls="{{organization._id}}" class="collapsed" data-target="#{{organization._id}}"> <i class="glyphicon glyphicon-plus"></i> {{organization.name}} </a> 
                </h4> 
              </div>
              <!-- content to be expanded -->
              <div id='{{organization._id}}' class='panel-collapse collapse' role='tabpanel' aria-labelledby='organization._id' aria-expanded='false'>
                <div class='panel-body'>
                  <div class='col-lg-3 col-md-3 col-sm-3'>
                    <img ng-src='{{organization.picture}}' style="width:30%;"> 
                  </div>
                  <div class='col-lg-6 col-md-6 col-sm-6'>
                    <p>Causes: 
                      <ul>
                      <li ng-repeat="cause in organization.causes_area">{{cause}}</li>
                      </ul>
                    </p>
                    <br>
                    <p>Rating: {{organization.rate}}/10</p>
                  </div>
                  <div class='col-lg-3 col-md-3 col-sm-3'>
                    <a class='btn btn-default btn-lg' role='button' ng-href='#/organizations/profile/{{organization._id}}'> View details </a>
                  </div>
                </div>
              </div>         
            </div>
          </div>
        </div>
      </div> 
    </div>
  </div>

  <div class="tab-pane fade" id="my">
    <div class="row">
      <form class="form-search" role="search">
        <div class="form-group">
          <input type="text" class="form-control" placeholder="Search" ng-model="search">
        </div>
      </form>
    </div>
    <div class="row">
      <div id='container'>
      <!-- create multiple accordion elements for all organizations -->
        <div class='panel-group' id='accordion' role='tablist' aria-mutliselectable='true' > 
          <div class='col-xs-12' ng-repeat="organization in data.organizations | filter:{name:search}"  ng-if="organization.owners.indexOf(userId)!==-1">
            <div class='panel panel-default'>
              <div class="panel-heading" role="tab" id="organization._id">
                <h4 class="panel-title">
                  <!-- href="javascript:;" with data-target to control the element to be collapsed, using opportunities objectIds to make each element unique -->
                  <a role="button" data-toggle="collapse" data-parent="#accordion" href="javascript:;" aria-expanded="false" aria-controls="{{organization._id}}" class="collapsed" data-target="#{{organization._id}}"> <i class="glyphicon glyphicon-plus"></i> {{organization.name}} </a> 
                </h4> 
              </div>
              <!-- content to be expanded -->
              <div id='{{organization._id}}' class='panel-collapse collapse' role='tabpanel' aria-labelledby='organization._id' aria-expanded='false'>
                <div class='panel-body'>
                  <div class='col-lg-3 col-md-3 col-sm-3'>
                    <img ng-src='{{organization.picture}}' style="width:30%;"> 
                  </div>
                  <div class='col-lg-6 col-md-6 col-sm-6'>
                    <p>Causes: 
                      <ul>
                      <li ng-repeat="cause in organization.causes_area">{{cause}}</li>
                      </ul>
                    </p>
                    <br>
                    <p>Rating: {{organization.rate}}/10</p>
                  </div>
                  <div class='col-lg-3 col-md-3 col-sm-3'>
                    <a class='btn btn-default btn-lg' role='button' ng-href='#/organizations/profile/{{organization._id}}'> View details </a>
                  </div>
                </div>
              </div>         
            </div>
          </div>
        </div>
      </div> 
    </div>
  </div>

</div>
